# Bilibili gRPC Protobuf Files

This repository contains Protobuf definition files (`.proto`) recovered from the Bilibili Android client APK (`iBiliPlayer-bili.apk`).

## Overview

These files were generated by:
1.  Decompiling the APK's DEX files into Smali code.
2.  Analyzing the Smali code to identify Protobuf message classes.
3.  Reconstructing the `.proto` definitions, including field names (where available), types, and field IDs.

**Note:**
-   Since the original `.proto` files are compiled into Java code, some information (like original comments or exact syntax of complex nested types) might be lost or simplified.
-   Field names are recovered from the bytecode but might sometimes be obfuscated or simplified.
-   `unknown` types may appear if the type inference failed, though `repeated`, `map`, and basic types are generally accurate.

## Directory Structure & Index

The root package is `com.bapis`. The main definitions are under `com/bapis/bilibili`.

### Key Modules (`com/bapis/bilibili`)

| Module | Description |
| :--- | :--- |
| **`app`** | Core application features. Contains many sub-modules (see below). |
| **`account`** | User account management, login, and profile. |
| **`live`** | Live streaming related protocols. |
| **`im`** | Instant Messaging (chat) protocols. |
| **`pgc`** | Professional Generated Content (Anime, Movies, TV Shows). |
| **`dynamic`** | Dynamics/Moments feed (the social timeline). |
| **`community`** | Community interactions (comments, etc.). |
| **`broadcast`** | Server-side broadcasting / Push notifications. |
| **`metadata`** | Common metadata and device information headers. |
| **`rpc`** | Common RPC status and error models. |
| **`ad`** | Advertising related models. |
| **`mall`** | Shopping / Mall features. |

### App Sub-modules (`com/bapis/bilibili/app`)

This directory contains definitions for specific views and features in the app:

-   **`home`**: Home page feeds (Recommend, Hot, etc.).
-   **`view`** / **`viewunite`**: Video detail page (the player page info).
-   **`playurl`**: Video playback URL resolution.
-   **`playeronline`**: Online viewer counts and related player status.
-   **`search`**: Search functionality.
-   **`space`**: User profile space.
-   **`resource`**: Resource loading (splash screens, etc.).
-   **`card`**: UI Card definitions used in feeds.
-   **`interfaces`**: Common interface definitions.

## Usage

You can use these files to:
-   Understand the Bilibili API structure.
-   Generate gRPC clients in other languages (Python, Go, etc.).
-   Analyze network traffic (requires matching field IDs).

## Disclaimer

This project is for **research and educational purposes only**. The files are derived from the official client and belong to Bilibili. Please respect the terms of service of the target application.
