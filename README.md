# Bilibili gRPC Protobuf 定义文件

本仓库包含从 Bilibili Android 客户端 APK (`iBiliPlayer-bili.apk`) 中恢复的 Protobuf 定义文件 (`.proto`)。

**客户端版本：** `8.82.0`

## 概览

这些文件是通过以下步骤生成的：
1.  将 APK 的 DEX 文件反编译为 Smali 代码。
2.  分析 Smali 代码以识别 Protobuf 消息类。
3.  重构 `.proto` 定义，包括字段名称（如果可用）、类型和字段 ID。

**注意：**
-   由于原始 `.proto` 文件被编译成 Java 代码，一些信息（如原始注释或复杂嵌套类型的确切语法）可能会丢失或简化。
-   字段名称是从字节码中恢复的，有时可能会被混淆或简化（例如 `a`, `b`）。
-   如果类型推断失败，可能会出现 `unknown` 类型，但 `repeated`、`map` 和基本类型通常是准确的。

## 目录结构与索引

根包为 `com.bapis`。主要定义位于 `com/bapis/bilibili` 下。

### 核心模块 (`com/bapis/bilibili`)

| 模块 | 描述 |
| :--- | :--- |
| **`app`** | 核心应用功能。包含许多子模块（见下文）。 |
| **`account`** | 用户账户管理、登录和个人资料。 |
| **`live`** | 直播相关协议。 |
| **`im`** | 即时通讯（聊天）协议。 |
| **`pgc`** | 专业生产内容（番剧、电影、电视剧）。 |
| **`dynamic`** | 动态/朋友圈信息流。 |
| **`community`** | 社区互动（评论等）。 |
| **`broadcast`** | 服务端广播 / 推送通知。 |
| **`metadata`** | 通用元数据和设备信息头。 |
| **`rpc`** | 通用 RPC 状态和错误模型。 |
| **`ad`** | 广告相关模型。 |
| **`mall`** | 购物 / 会员购功能。 |

### App 子模块 (`com/bapis/bilibili/app`)

此目录包含应用程序中特定视图和功能的定义：

-   **`home`**: 首页信息流（推荐、热门等）。
-   **`view`** / **`viewunite`**: 视频详情页（播放页信息）。
-   **`playurl`**: 视频播放 URL 解析。
-   **`playeronline`**: 在线观看人数和相关播放器状态。
-   **`search`**: 搜索功能。
-   **`space`**: 用户个人空间。
-   **`resource`**: 资源加载（闪屏页等）。
-   **`card`**: 信息流中使用的 UI 卡片定义。
-   **`interfaces`**: 通用接口定义。

## 用途

你可以使用这些文件来：
-   理解 Bilibili API 结构。
-   生成其他语言（Python, Go 等）的 gRPC 客户端。
-   分析网络流量（需要匹配字段 ID）。

## 免责声明 (Disclaimer)

1.  **非官方项目**：本项目与 Bilibili (上海宽娱数码科技有限公司) 无任何官方关联。所有文件均源自对公开发布的客户端应用程序的逆向工程分析。
2.  **仅供学习**：本仓库包含的资源仅供网络安全研究、协议分析学习和教育目的使用。
3.  **禁止商用**：严禁将本项目用于任何商业用途、非法用途或损害 Bilibili 利益的行为。
4.  **无担保**：文件内容可能存在错误或遗漏。作者不对使用本仓库内容产生的任何后果负责。
5.  **版权归属**：原始协议设计和相关知识产权归 Bilibili 所有。如果本仓库侵犯了您的权益，请联系删除。

请遵守当地法律法规以及目标应用程序的服务条款。
